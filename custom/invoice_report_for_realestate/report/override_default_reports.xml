<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Override default Odoo invoice report to use our custom invoice template -->
    <record id="account.account_invoices" model="ir.actions.report">
        <field name="report_name">invoice_report_for_realestate.report_osus_invoice_document</field>
        <field name="report_file">invoice_report_for_realestate.report_osus_invoice_document</field>
        <field name="print_report_name">'Invoice - %s' % (object.name)</field>
    </record>

    <!-- Create new report action for bills that overrides invoice report for vendor bills -->
    <record id="account_bills_report" model="ir.actions.report">
        <field name="name">Bills</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">invoice_report_for_realestate.report_osus_bill_document</field>
        <field name="report_file">invoice_report_for_realestate.report_osus_bill_document</field>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="base.paperformat_euro"/>
        <field name="print_report_name">'Bill - %s' % (object.name)</field>
    </record>

    <!-- Add context-based report selection for bills vs invoices -->
    <record id="account_move_report_smart" model="ir.actions.report">
        <field name="name">Smart Invoice/Bill Report</field>
        <field name="model">account.move</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">invoice_report_for_realestate.smart_report_dispatcher</field>
        <field name="report_file">invoice_report_for_realestate.smart_report_dispatcher</field>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_type">report</field>
        <field name="paperformat_id" ref="base.paperformat_euro"/>
        <field name="print_report_name">
            object.move_type == 'in_invoice' and 'Bill - %s' % (object.name) or 'Invoice - %s' % (object.name)
        </field>
    </record>
</odoo>
